# IPO Lockup & Employee Window Short Strategy — Backtest

**By Aadi Shelat** | Independent Research | February 2025

---

## What This Is

This repo contains the code and data for my independent research project on short selling around two types of predictable stock market events. The first is IPO lockup expirations — when a company goes public, insiders like founders and early investors are not allowed to sell their shares for about 180 days. When that period ends, many of them sell at once, which pushes the price down. The second is employee trading windows — big tech companies like Google and Meta open specific windows of time where employees can sell their company stock (called RSUs). Both events happen on predictable, publicly known dates, which means investors can prepare for them in advance.

The goal of this project was to test whether you can consistently make money by shorting stocks right before these events happen. I built a Python backtest that pulled real historical closing prices from Yahoo Finance and simulated what would have happened if you shorted each stock 3 days before the event and closed the position 5 days after. I tested this on 18 real events from 2021 to 2024 and the results showed a 67% win rate, an average return of +5.05% per trade, and a Sharpe ratio of 1.82. The full research paper with methodology, analysis, and references is included in this repo.

---

## Results

The backtest ran across 10 IPO lockup events and 8 employee trading window events. Out of 18 total trades, 12 were profitable. The average market-adjusted return per trade was +5.35%, meaning the strategy outperformed SPY by that amount on average over each 8-day holding period. The Sharpe ratio of 1.82 is considered strong — anything above 1.0 is generally seen as good. The best single trade was META in February 2022, which returned +31.2% when Meta's stock crashed after a bad earnings report right as the employee window opened. The worst trade was CART (Instacart) in March 2024, which lost -10.8% when the stock rallied despite the lockup expiry. All six losses can be explained by strong earnings results or broad market momentum that overpowered the selling pressure from insiders.

---

## Files

This repo contains four main files. The file `lockup_backtest_colab.py` is the main Python backtest — it fetches real prices from Yahoo Finance, runs the strategy, prints a trade-by-trade log, and generates four charts. The file `backtest_results.csv` is the actual output from running the backtest, with real entry prices, exit prices, and returns for every trade. The file `paper_v2.pdf` is the full research paper covering the background, methodology, results, and limitations of the study. The four chart PNG files (`chart1_trade_returns.png` through `chart4_sector.png`) are the visualizations generated by the backtest code.

---

## How to Run It

The easiest way to run this is in Google Colab, which requires no installation. Just go to colab.research.google.com, create a new notebook, and run `!pip install yfinance` in the first cell. Then paste the full contents of `lockup_backtest_colab.py` into a second cell and hit play. It will automatically download real prices from Yahoo Finance, run the backtest, print the results, and generate all four charts. At the end it will prompt you to download the CSV and chart files to your computer.

If you prefer to run it locally, just install the dependencies with `pip install yfinance pandas matplotlib numpy` and then run `python lockup_backtest_colab.py` from your terminal.

---

## How the Code Works

For each event in the list, the code downloads daily closing price data from Yahoo Finance for both the stock and SPY. It then finds the closing price 3 trading days before the event date as the entry price, and the closing price 5 trading days after as the exit price. The short return is calculated as entry minus exit divided by entry, multiplied by 100 — a positive number means the stock went down, which is a profit on a short position. The code also calculates a market-adjusted return by subtracting SPY's return over the same window, which separates the effect of the event from the general market moving up or down. After processing all events it computes the win rate, Sharpe ratio, and max drawdown, then generates four charts showing individual trade returns, the average price drift around event dates, the cumulative equity curve versus SPY, and a breakdown of results by sector.

---

## Key Findings

The strategy worked on 12 out of 18 trades with a 67% win rate and a Sharpe ratio of 1.82. One unexpected finding was that the employee trading window trades actually outperformed the IPO lockup trades in this sample, with a 75% win rate versus 60%. This may partly be explained by the fact that several of the biggest window wins happened in early 2022 when tech stocks were broadly declining, which added to the selling pressure from employees. All of the losses came from situations where strong earnings results or general market momentum overpowered the selling from insiders, which suggests the strategy works best when the broader market is flat or declining.

---

## Limitations

This study has a few important limitations worth knowing. The sample of 18 trades is relatively small, so while the results are consistent with academic research on larger samples, they are not statistically proven on their own. The backtest also does not include borrow costs — when you short a stock you have to pay a fee to borrow the shares, which can be significant for newly public companies. It also does not include transaction costs or the bid-ask spread. Finally, several of the biggest wins came during the 2022 tech selloff, which was an unusual market environment that may not repeat.



## References

Field, L. C., & Hanka, G. (2001). The expiration of IPO share lockups. Journal of Finance, 56(2), 471–500. Bradley, D., Jordan, B., Roten, I., & Yi, H. (2001). Venture capital and IPO lockup expiration. Journal of Financial Research, 24(4), 465–493. Brav, A., & Gompers, P. A. (2003). The role of lockups in initial public offerings. Review of Financial Studies, 16(1), 1–29.

